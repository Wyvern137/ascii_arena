# ASCII Arena

Сетевая многопользовательская игра в терминале. Игроки управляют персонажами на арене, используют заклинания и набирают очки до заданного лимита.

---

## Требования

- Компилятор с поддержкой C11 (clang или gcc)
- Библиотека ncurses (только для клиента)
- macOS: ncurses через Homebrew (`brew install ncurses`)

---

## Сборка

```bash
make
```

Собираются исполняемые файлы:
- `asciiarena_client` — клиент с текстовым интерфейсом
- `asciiarena_server` — сервер игры

Очистка артефактов сборки:

```bash
make clean
```

---

## Запуск

**Сервер**

```bash
./asciiarena_server [опции]
```

Опции:
- `-p`, `--players NUM` — число игроков (2–8, по умолчанию 2)
- `-t`, `--tcp PORT` — TCP порт (по умолчанию 3042)
- `-u`, `--udp PORT` — UDP порт (по умолчанию 3043)
- `-m`, `--map SIZE` — размер карты (10–50, по умолчанию 20)
- `-w`, `--winner POINTS` — очки для победы (по умолчанию 5)
- `--help` — справка

**Клиент**

```bash
./asciiarena_client [опции]
```

Опции:
- `-h`, `--host HOST` — адрес сервера (по умолчанию localhost)
- `-p`, `--port PORT` — TCP порт сервера (по умолчанию 3042)
- `--help` — справка

Пример: сервер на порту 3042, два клиента на той же машине:

```bash
./asciiarena_server -t 3042 -u 3043
./asciiarena_client -h 127.0.0.1 -p 3042
./asciiarena_client -h 127.0.0.1 -p 3042
```

---

## Структура проекта

| Каталог   | Назначение |
|-----------|------------|
| `client/` | Точка входа клиента, состояние, главный цикл и сетевое взаимодействие |
| `server/` | Точка входа сервера, приём подключений, комнаты, сессии игроков |
| `net/`    | Сокеты, кодирование и протокол сообщений клиент–сервер |
| `ui/`     | Терминал, ввод, рендер, виджеты, меню, отображение арены |
| `common/` | Общие утилиты |

---

## Протокол

Связь по TCP и UDP. Типы сообщений и форматы пакетов описаны в `net/protocol.h`. Клиент подключается по TCP, при необходимости выполняет UDP handshake; движение и заклинания передаются в соответствии с протоколом.

---

## Автор

Ведерников Артём Сергеевич, группа С24-712.
